<!DOCTYPE html>
<!-- 
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.5
Version: 4.1.0
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
	<meta charset="utf-8" />
	<title>1</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta content="" name="description" />
	<meta content="" name="author" />
	<!-- BEGIN GLOBAL MANDATORY STYLES -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
		type="text/css">
	<link href="./plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="./plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css">
	<link href="./plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="./plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css">
	<link href="./plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />

	<link rel="stylesheet" type="text/css" href="./plugins/select2/select2.css"/>
	<link rel="stylesheet" type="text/css" href="./plugins/datatables/extensions/Scroller/css/dataTables.scroller.min.css"/>
	<link rel="stylesheet" type="text/css" href="./plugins/datatables/extensions/ColReorder/css/dataTables.colReorder.min.css"/>
	<link rel="stylesheet" type="text/css" href="./plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
	<!-- END GLOBAL MANDATORY STYLES -->
	<!-- BEGIN THEME STYLES -->
	<link href="./css/components-rounded.css" id="style_components" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="./plugins/bootstrap-toastr/toastr.min.css"/>

	<link href="./plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css" rel="stylesheet" type="text/css"/>
	<link href="./plugins/bootstrap-modal/css/bootstrap-modal.css" rel="stylesheet" type="text/css"/>

	<link href="./css/plugins.css" rel="stylesheet" type="text/css" />
	<link href="./css/layout.css" rel="stylesheet" type="text/css" />
	<link id="style_color" href="./css/themes/light.css" rel="stylesheet" type="text/css" />
	<link href="./css/custom.css" rel="stylesheet" type="text/css" />
	<!-- END THEME STYLES -->
	<link rel="shortcut icon" href="favicon.ico" />
	<style>
		td{line-height: 28px!important;}
		/* .caption{display: flex; align-items: center;} */
		.btn_group{position: absolute}
		#sample_1_length{display: none;}
	</style>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->

<body class="page-header-fixed page-sidebar-closed-hide-logo ">
	<!-- BEGIN HEADER -->
	<div class="page-header navbar navbar-fixed-top">
		<!-- BEGIN HEADER INNER -->
		<div class="page-header-inner">
			<!-- BEGIN LOGO -->
			<div class="page-logo">
				<a href="index.html">
					<img src="./img/logo-light.png" alt="logo" class="logo-default" />
				</a>
				<div class="menu-toggler sidebar-toggler"></div>
			</div>
			<!-- END LOGO -->
			<!-- BEGIN PAGE TOP -->
			<div class="page-top">
				<!-- BEGIN TOP NAVIGATION MENU -->
				<div class="top-menu">
					<ul class="nav navbar-nav pull-right">
						<!-- BEGIN USER LOGIN DROPDOWN -->
						<li class="dropdown dropdown-user dropdown-dark">
							<a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
								<span class="username username-hide-on-mobile"> Nick </span>
								<img alt="" class="img-circle" src="./img/avatar9.jpg" />
							</a>
							<ul class="dropdown-menu dropdown-menu-default">
								<li>
									<a href=""><i class="icon-key"></i> Log Out </a>
								</li>
							</ul>
						</li>
						<!-- END USER LOGIN DROPDOWN -->
					</ul>
				</div>
				<!-- END TOP NAVIGATION MENU -->
			</div>
			<!-- END PAGE TOP -->
		</div>
		<!-- END HEADER INNER -->
	</div>
	<!-- END HEADER -->
	<div class="clearfix">
	</div>
	<!-- BEGIN CONTAINER -->
	<div class="page-container">
		<!-- BEGIN SIDEBAR -->
		<div class="page-sidebar-wrapper">
			<div class="page-sidebar navbar-collapse collapse">
				<!-- BEGIN SIDEBAR MENU -->
				<ul class="page-sidebar-menu " data-keep-expanded="false" data-auto-scroll="true"
					data-slide-speed="200">
					<li class="start ">
						<a href="./index.html">
							<i class="icon-home"></i>
							<span class="title">主页</span>
						</a>
					</li>
					<li class="last ">
						<a href="javascript:;">
							<i class="icon-basket"></i>
							<span class="title">流程</span>
							<span class="arrow "></span>
						</a>
						<ul class="sub-menu">
							<li>
								<a href="./index.html"><i class="icon-pencil"></i>流程管理</a>
							</li>
						</ul>
					</li>
				</ul>
				<!-- END SIDEBAR MENU -->
			</div>
		</div>
		<!-- END SIDEBAR -->
		<!-- BEGIN CONTENT -->
		<div class="page-content-wrapper">
			<div class="page-content">
				<!-- BEGIN PAGE HEADER-->
				<!-- BEGIN PAGE HEAD -->
				<div class="page-head">
					<!-- BEGIN PAGE TITLE -->
					<div class="page-title">
						<h1>主页 <small>主页</small></h1>
					</div>
					<!-- END PAGE TITLE -->
					<!-- BEGIN PAGE TOOLBAR -->
					<div class="page-toolbar">
						<!-- BEGIN THEME PANEL -->
						<div class="btn-group btn-theme-panel">
							<a href="javascript:;" class="btn dropdown-toggle" data-toggle="dropdown">
								<i class="icon-settings"></i>
							</a>
							<div class="dropdown-menu theme-panel pull-right dropdown-custom hold-on-click">
								<div class="row">
									<div class="col-md-12">
										<h3>THEME</h3>
										<ul class="theme-colors">
											<li class="theme-color theme-color-default" data-theme="default">
												<span class="theme-color-view"></span>
												<span class="theme-color-name">Dark Header</span>
											</li>
											<li class="theme-color theme-color-light active" data-theme="light">
												<span class="theme-color-view"></span>
												<span class="theme-color-name">Light Header</span>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
						<!-- END THEME PANEL -->
					</div>
					<!-- END PAGE TOOLBAR -->
				</div>
				<!-- END PAGE HEAD -->
				<!-- END PAGE HEADER-->
				<!-- BEGIN PAGE CONTENT-->
				<div>
					<div class="portlet box green-haze">
						<div class="portlet-title">
							<div class="caption">
								<i class="fa fa-table"></i>流程管理
							</div>
							<div class="tools">
								<a href="javascript:;" class="reload"></a>
							</div>
						</div>
						<div class="portlet-body">
							<div class="btn_group">
								<button type="button" class="btn btn-primary" onclick="app.methods.create()"  data-toggle="modal" data-target="#responsive">新增</button>
							</div>
							<table class="table table-striped table-hover" id="sample_1">
								<thead>
									<tr>
										<th>ID</th>
										<th>流程类型名称</th>
										<th>备注</th>
										<th>创建时间</th>
										<th>更新时间</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<!-- END PAGE CONTENT-->
			</div>
		</div>
		<!-- END CONTENT -->
	</div>
	<!-- END CONTAINER -->
	<!-- BEGIN FOOTER -->
	<!-- <div class="page-footer">
		<div class="page-footer-inner">
			2014 &copy; Metronic by keenthemes. 
			<a href="http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes" title="Purchase Metronic just for 27$ and get lifetime updates for free" target="_blank">Purchase Metronic!</a>
		</div>
		<div class="scroll-to-top">
			<i class="icon-arrow-up"></i>
		</div>
	</div> -->
	<!-- END FOOTER -->

	<div id="static2" class="modal fade" tabindex="-1" >
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
			<h4 class="modal-title">请确认</h4>
		</div>
		<div class="modal-body"></div>
		<div class="modal-footer">
			<button type="button" data-dismiss="modal" class="btn btn-default btn-sm">取消</button>
			<button type="button" class="btn btn-danger btn-sm" onclick="app.methods.delAjax()">删除</button>
		</div>
	</div>

	<div id="responsive" class="modal fade" tabindex="-1" data-width="760">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
			<h4 class="modal-title">编辑</h4>
		</div>
		<div class="modal-body">
			<div class="row">
				<div class="col-md-12">
					<h4>流程类型名称</h4><p><input class="form-control" type="text" name="name"></p>
					<h4>备注</h4><p><input class="form-control" type="text" name="comments"></p>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<button type="button" data-dismiss="modal" class="btn btn-default">取消</button>
			<button type="button" class="btn blue" onclick="app.methods.save()">保存</button>
		</div>
	</div>
	<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
	<!-- BEGIN CORE PLUGINS -->
	<!--[if lt IE 9]>
	<script src="./plugins/respond.min.js"></script>
	<script src="./plugins/excanvas.min.js"></script> 
	<![endif]-->
	<script src="./plugins/jquery.min.js" type="text/javascript"></script>
	<script src="./plugins/jquery-migrate.min.js" type="text/javascript"></script>
	<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
	<script src="./plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
	<script src="./plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="./plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
	<script src="./plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
	<script src="./plugins/jquery.blockui.min.js" type="text/javascript"></script>
	<script src="./plugins/jquery.cokie.min.js" type="text/javascript"></script>
	<script src="./plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
	<script src="./plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
	<!-- END CORE PLUGINS -->
	
	<script type="text/javascript" src="./plugins/select2/select2.min.js"></script>
	<script type="text/javascript" src="./plugins/datatables/media/js/jquery.dataTables.min.js"></script>
	<script type="text/javascript" src="./plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>

	<script src="./plugins/bootstrap-toastr/toastr.min.js"></script>


	<script src="./plugins/bootstrap-modal/js/bootstrap-modalmanager.js" type="text/javascript"></script>
	<script src="./plugins/bootstrap-modal/js/bootstrap-modal.js" type="text/javascript"></script>

	<script src="./js/metronic.js" type="text/javascript"></script>
	<script src="./js/common.js" type="text/javascript"></script>

	<!-- <script src="./js/scripts/table-managed.js"></script> -->
	<script src="./js/layout.js" type="text/javascript"></script>
	<script>
		var app = {
            data: {
				selectIndex: null,
				table_data: [{
					id: '1',
					name: '社会投资类（核准类）',
					comments: '测试中，请勿操作',
					createAt: '2019-09-07 09:11:44',
					updateAt: '2019-09-07 09:11:44',
				},{
					id: '2',
					name: '政府投资类（不新增建设用地）',
					comments: '测试中，请勿操作',
					createAt: '2019-09-07 09:11:44',
					updateAt: '2019-09-07 09:11:44',
				},{
					id: '3',
					name: '政府投资类(新增建设用地)',
					comments: '测试中，请勿操作',
					createAt: '2019-09-07 09:11:44',
					updateAt: '2019-09-07 09:11:44',
				},{
					id: '4',
					name: '社会投资类（核准类）',
					comments: '',
					createAt: '2019-09-07 09:11:44',
					updateAt: '2019-09-07 09:11:44',
				},]
            },
            methods: {
                initTable: function(){
					app.methods.initHtml()
					tools.initTable('#sample_1')
				},
                initHtml: function(){
                    var html = ''
                    app.data.table_data.map((e, i)=>{
						html += `<tr>
									<td>${e.id}</td>
									<td>${e.name || '--'}</td>
									<td>${e.comments || '--'}</td>
									<td>${e.createAt || '--'}</td>	
									<td>${e.updateAt || '--'}</td>
									<td>
										<button type="button" class="btn btn-success btn-sm" onclick="app.methods.openDetail(${i})">流程设计</button>
										<button type="button" class="btn btn-info btn-sm" onclick="app.methods.edit(${i})"  data-toggle="modal" data-target="#responsive">编辑</button>
										<button type="button" class="btn btn-danger btn-sm" onclick="app.methods.del(${i})"  data-target="#static2" data-toggle="modal">删除</button>
									</td>
								</tr>`
                    })
                    $('#sample_1 tbody').html(html)
				},
				openDetail: function(index){
					window.location.href = './card.html?id=' + app.data.table_data[index].id
				},
				create: function(){
					app.data.selectIndex = null

					$('#responsive .modal-title').text('新建')
					$('#responsive input[name="name"]').val('')
					$('#responsive input[name="comments"]').val('')
				},
				edit: function(index){
					app.data.selectIndex = index

					$('#responsive .modal-title').text('编辑')
					$('#responsive input[name="name"]').val(app.data.table_data[index].name)
					$('#responsive input[name="comments"]').val(app.data.table_data[index].comments)
				},
				save: function(index){
					console.log({
						name: $('#responsive input[name="name"]').val(),
						comments: $('#responsive input[name="comments"]').val(),
					})
					$("#responsive").modal("hide");
					tools.toast('保存成功！', 'success')
				},
				del: function(index){
					app.data.selectIndex = index
					$('#static2 .modal-body').html('<p>正在删除【' + app.data.table_data[index].name + '】，请确认！</p><p class="text-danger">删除操作不可逆！！</p>')
				},
				delAjax: function(index){
					// app.data.selectIndex
					tools.toast('【' + app.data.table_data[app.data.selectIndex].name + '】已删除！')
					app.data.selectIndex = null
					$("#static2").modal("hide");
				}
            },
            init: function(){
				Metronic.init(); // init metronic core components
				Layout.init(); // init current layout

				tools.initSelectThemes()

				app.methods.initTable()
            }
        };

		jQuery(document).ready(function () {
            app.init()
		});

	</script>
	<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->

</html>